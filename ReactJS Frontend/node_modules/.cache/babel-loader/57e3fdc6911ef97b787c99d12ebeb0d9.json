{"ast":null,"code":"var _jsxFileName = \"/Users/bulavkin/Developer/\\u0412\\u0435\\u0431-\\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430/\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430 2023/ReactJS FrontEnd/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport AuthService from \"./services/auth.service\";\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Home from \"./components/home.component\";\nimport Profile from \"./components/profile.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\nimport AddRow from \"./rows/AddRow\";\nimport EditRow from \"./rows/EditRow\";\nimport ViewRow from \"./rows/ViewRow\";\nimport Navbar from \"./components/Navbar\"; // Импортируйте компонент Navbar\n\nimport EventBus from \"./common/EventBus\";\nimport About from \"./pages/About\";\nimport AboutUs from \"./components/board-user.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n    this.state = {\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\")\n      });\n    }\n\n    EventBus.on(\"logout\", () => {\n      this.logOut();\n    });\n  }\n\n  componentWillUnmount() {\n    EventBus.remove(\"logout\");\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined\n    });\n  }\n\n  render() {\n    const {\n      currentUser,\n      showModeratorBoard,\n      showAdminBoard\n    } = this.state;\n    const {\n      userRole\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar // Поместите Navbar внутрь App\n      , {\n        currentUser: currentUser,\n        logOut: this.logOut,\n        showModeratorBoard: showModeratorBoard,\n        showAdminBoard: showAdminBoard,\n        userRole: userRole\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            element: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/about\",\n            element: /*#__PURE__*/_jsxDEV(AboutUs, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/mod\",\n            element: /*#__PURE__*/_jsxDEV(BoardModerator, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/admin\",\n            element: /*#__PURE__*/_jsxDEV(BoardAdmin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/wiki/new\",\n            element: /*#__PURE__*/_jsxDEV(AddRow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/wiki/update/:id\",\n            element: /*#__PURE__*/_jsxDEV(EditRow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/wiki/:id\",\n            element: /*#__PURE__*/_jsxDEV(ViewRow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","Routes","Route","Link","AuthService","Login","Register","Home","Profile","BoardModerator","BoardAdmin","AddRow","EditRow","ViewRow","Navbar","EventBus","About","AboutUs","App","constructor","props","logOut","bind","state","showModeratorBoard","showAdminBoard","currentUser","undefined","componentDidMount","user","getCurrentUser","setState","roles","includes","on","componentWillUnmount","remove","logout","render","userRole"],"sources":["/Users/bulavkin/Developer/Веб-разработка/Курсовая работа 2023/ReactJS FrontEnd/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Home from \"./components/home.component\";\nimport Profile from \"./components/profile.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\nimport AddRow from \"./rows/AddRow\";\nimport EditRow from \"./rows/EditRow\";\nimport ViewRow from \"./rows/ViewRow\";\nimport Navbar from \"./components/Navbar\"; // Импортируйте компонент Navbar\n\nimport EventBus from \"./common/EventBus\";\nimport About from \"./pages/About\";\nimport AboutUs from \"./components/board-user.component\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n\n    EventBus.on(\"logout\", () => {\n      this.logOut();\n    });\n  }\n\n  componentWillUnmount() {\n    EventBus.remove(\"logout\");\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    });\n  }\n\n  render() {\n    const { currentUser, showModeratorBoard, showAdminBoard } = this.state;\n    const { userRole } = this.state;\n\n    return (\n        <div>\n          <Navbar // Поместите Navbar внутрь App\n              currentUser={currentUser}\n              logOut={this.logOut}\n              showModeratorBoard={showModeratorBoard}\n              showAdminBoard={showAdminBoard}\n              userRole={userRole}\n          />\n          <div className=\"container mt-4\">\n            <Routes>\n              <Route path=\"/\" element={<Home />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/register\" element={<Register />} />\n              <Route path=\"/profile\" element={<Profile />} />\n              <Route path=\"/about\" element={<AboutUs />} />\n              <Route path=\"/mod\" element={<BoardModerator />} />\n              <Route path=\"/admin\" element={<BoardAdmin />} />\n              <Route exact path=\"/wiki/new\" element={<AddRow />} />\n              <Route exact path=\"/wiki/update/:id\" element={<EditRow />} />\n              <Route exact path=\"/wiki/:id\" element={<ViewRow />} />\n            </Routes>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,QAAoC,kBAApC;AACA,OAAO,sCAAP;AACA,OAAO,WAAP;AAEA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,OAAP,MAAoB,gCAApB;AACA,OAAOC,cAAP,MAA2B,wCAA3B;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,qBAAnB,C,CAA0C;;AAE1C,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,OAAP,MAAoB,mCAApB;;;AAEA,MAAMC,GAAN,SAAkBlB,SAAlB,CAA4B;EAC1BmB,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;IAEA,KAAKC,KAAL,GAAa;MACXC,kBAAkB,EAAE,KADT;MAEXC,cAAc,EAAE,KAFL;MAGXC,WAAW,EAAEC;IAHF,CAAb;EAKD;;EAEDC,iBAAiB,GAAG;IAClB,MAAMC,IAAI,GAAGzB,WAAW,CAAC0B,cAAZ,EAAb;;IAEA,IAAID,IAAJ,EAAU;MACR,KAAKE,QAAL,CAAc;QACZL,WAAW,EAAEG,IADD;QAEZL,kBAAkB,EAAEK,IAAI,CAACG,KAAL,CAAWC,QAAX,CAAoB,gBAApB,CAFR;QAGZR,cAAc,EAAEI,IAAI,CAACG,KAAL,CAAWC,QAAX,CAAoB,YAApB;MAHJ,CAAd;IAKD;;IAEDlB,QAAQ,CAACmB,EAAT,CAAY,QAAZ,EAAsB,MAAM;MAC1B,KAAKb,MAAL;IACD,CAFD;EAGD;;EAEDc,oBAAoB,GAAG;IACrBpB,QAAQ,CAACqB,MAAT,CAAgB,QAAhB;EACD;;EAEDf,MAAM,GAAG;IACPjB,WAAW,CAACiC,MAAZ;IACA,KAAKN,QAAL,CAAc;MACZP,kBAAkB,EAAE,KADR;MAEZC,cAAc,EAAE,KAFJ;MAGZC,WAAW,EAAEC;IAHD,CAAd;EAKD;;EAEDW,MAAM,GAAG;IACP,MAAM;MAAEZ,WAAF;MAAeF,kBAAf;MAAmCC;IAAnC,IAAsD,KAAKF,KAAjE;IACA,MAAM;MAAEgB;IAAF,IAAe,KAAKhB,KAA1B;IAEA,oBACI;MAAA,wBACE,QAAC,MAAD,CAAQ;MAAR;QACI,WAAW,EAAEG,WADjB;QAEI,MAAM,EAAE,KAAKL,MAFjB;QAGI,kBAAkB,EAAEG,kBAHxB;QAII,cAAc,EAAEC,cAJpB;QAKI,QAAQ,EAAEc;MALd;QAAA;QAAA;QAAA;MAAA,QADF,eAQE;QAAK,SAAS,EAAC,gBAAf;QAAA,uBACE,QAAC,MAAD;UAAA,wBACE,QAAC,KAAD;YAAO,IAAI,EAAC,GAAZ;YAAgB,OAAO,eAAE,QAAC,IAAD;cAAA;cAAA;cAAA;YAAA;UAAzB;YAAA;YAAA;YAAA;UAAA,QADF,eAEE,QAAC,KAAD;YAAO,IAAI,EAAC,QAAZ;YAAqB,OAAO,eAAE,QAAC,KAAD;cAAA;cAAA;cAAA;YAAA;UAA9B;YAAA;YAAA;YAAA;UAAA,QAFF,eAGE,QAAC,KAAD;YAAO,IAAI,EAAC,WAAZ;YAAwB,OAAO,eAAE,QAAC,QAAD;cAAA;cAAA;cAAA;YAAA;UAAjC;YAAA;YAAA;YAAA;UAAA,QAHF,eAIE,QAAC,KAAD;YAAO,IAAI,EAAC,UAAZ;YAAuB,OAAO,eAAE,QAAC,OAAD;cAAA;cAAA;cAAA;YAAA;UAAhC;YAAA;YAAA;YAAA;UAAA,QAJF,eAKE,QAAC,KAAD;YAAO,IAAI,EAAC,QAAZ;YAAqB,OAAO,eAAE,QAAC,OAAD;cAAA;cAAA;cAAA;YAAA;UAA9B;YAAA;YAAA;YAAA;UAAA,QALF,eAME,QAAC,KAAD;YAAO,IAAI,EAAC,MAAZ;YAAmB,OAAO,eAAE,QAAC,cAAD;cAAA;cAAA;cAAA;YAAA;UAA5B;YAAA;YAAA;YAAA;UAAA,QANF,eAOE,QAAC,KAAD;YAAO,IAAI,EAAC,QAAZ;YAAqB,OAAO,eAAE,QAAC,UAAD;cAAA;cAAA;cAAA;YAAA;UAA9B;YAAA;YAAA;YAAA;UAAA,QAPF,eAQE,QAAC,KAAD;YAAO,KAAK,MAAZ;YAAa,IAAI,EAAC,WAAlB;YAA8B,OAAO,eAAE,QAAC,MAAD;cAAA;cAAA;cAAA;YAAA;UAAvC;YAAA;YAAA;YAAA;UAAA,QARF,eASE,QAAC,KAAD;YAAO,KAAK,MAAZ;YAAa,IAAI,EAAC,kBAAlB;YAAqC,OAAO,eAAE,QAAC,OAAD;cAAA;cAAA;cAAA;YAAA;UAA9C;YAAA;YAAA;YAAA;UAAA,QATF,eAUE,QAAC,KAAD;YAAO,KAAK,MAAZ;YAAa,IAAI,EAAC,WAAlB;YAA8B,OAAO,eAAE,QAAC,OAAD;cAAA;cAAA;cAAA;YAAA;UAAvC;YAAA;YAAA;YAAA;UAAA,QAVF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAyBD;;AAtEyB;;AAyE5B,eAAerB,GAAf"},"metadata":{},"sourceType":"module"}